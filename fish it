-- BENJAMIN MINIMAL GUI | DELTA SAFE

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")

local plr = Players.LocalPlayer

-- hapus GUI lama
pcall(function()
    plr.PlayerGui:FindFirstChild("BENJAMIN_GUI"):Destroy()
end)

-- SCREEN GUI
local gui = Instance.new("ScreenGui")
gui.Name = "BENJAMIN_GUI"
gui.Parent = plr.PlayerGui
gui.ResetOnSpawn = false

-- MAIN KOTAK
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0,180,0,60) -- kotak kecil
main.Position = UDim2.new(0.5,-90,0.5,-30)
main.BackgroundColor3 = Color3.fromRGB(255,105,180) -- warna kotak pink
main.BorderSizePixel = 0
Instance.new("UICorner", main).CornerRadius = UDim.new(0,12)

-- NAMA TEXT
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1,0,1,0)
title.Text = "BENJAMIN"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.BackgroundTransparency = 1

-- MINIMIZE ICON BIRU
local mini = Instance.new("Frame", gui)
mini.Size = UDim2.new(0,70,0,70)
mini.Position = UDim2.new(0.5,-35,0.8,0)
mini.BackgroundColor3 = Color3.fromRGB(0,120,255) -- biru
mini.Visible = false
mini.BorderSizePixel = 0
Instance.new("UICorner", mini).CornerRadius = UDim.new(1,0)

local miniText = Instance.new("TextLabel", mini)
miniText.Size = UDim2.new(1,0,1,0)
miniText.Text = "B"
miniText.TextColor3 = Color3.new(1,1,1)
miniText.Font = Enum.Font.GothamBold
miniText.TextSize = 32
miniText.BackgroundTransparency = 1

-- DRAG FUNCTION
local function dragify(frame)
    local drag, start, pos
    frame.InputBegan:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then
            drag = true
            start = i.Position
            pos = frame.Position
        end
    end)
    UIS.InputChanged:Connect(function(i)
        if drag and i.UserInputType == Enum.UserInputType.MouseMovement then
            local d = i.Position - start
            frame.Position = UDim2.new(pos.X.Scale,pos.X.Offset+d.X,pos.Y.Scale,pos.Y.Offset+d.Y)
        end
    end)
    UIS.InputEnded:Connect(function()
        drag = false
    end)
end

dragify(main)
dragify(mini)

-- MINIMIZE LOGIC
main.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        main.Visible = false
        mini.Visible = true
    end
end)

mini.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        mini.Visible = false
        main.Visible = true
    end
end)
